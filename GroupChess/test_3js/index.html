<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r79/three.js"></script>
    <script src="js/OBJLoader.js"
    <!--<script src="/js/three.min.js"></script>-->
    <!--<script src="./js/StereoEffect.js"></script>-->
    <!--<script src="./js/DeviceOrientationControls.js"></script>-->
    <!--<script src="./js/OrbitControls.js"></script>-->
    <title>Title</title>
</head>
<body>

</body>
<script>
   console.log('hi');
   var scene, camera, renderer;
   var geometry, material, mesh;
   var geometryBoard, materialBoard, meshBoard;

   init();
   for(i=0;i<8;i++){
       for(j=0;j<8;j++){
           board(i,j);
       }
   }
   animate();

   function init() {

       scene = new THREE.Scene();

       var light = new THREE.HemisphereLight( 0xffffbb, 0x080820, 10000 );
       scene.add( light );

       camera = new THREE.PerspectiveCamera( 75, window.innerWidth / window.innerHeight, 1, 10000 );
       camera.position.z = 1000;
       camera.position.y = 800;
       camera.lookAt(new THREE.Vector3(0,0,0));

       geometry = new THREE.BoxGeometry( 1000, 100, 1000);
       material = new THREE.MeshStandardMaterial( { color: 0xff0000 } );


       mesh = new THREE.Mesh( geometry, material );

       //mesh.position.x = 1000;

       scene.add( mesh );

       Knight = null;

       var loader = new THREE.OBJLoader();
       loader.load(
           'objects/Knight.OBJ',
           function ( object ) {
               Knight = object.children[0];
               Knight.position.x = 100;
               Knight = new THREE.MeshStandardMaterial( { color: 0xFF33F3 });
               scene.add( Knight );

               Knight.scale.x = 125;
               Knight.scale.y = 125;
               Knight.scale.z = 125;

               Knight.position.x = 0;
               Knight.position.y = 130;
               Knight.position.z = 0;


           }
       );

       renderer = new THREE.WebGLRenderer();
       renderer.setSize( window.innerWidth, window.innerHeight );

       document.body.appendChild( renderer.domElement );

   }
    function board(modx,modz) {

        geometryBoard = new THREE.BoxGeometry( 125, 125, 125);


        if((modx+modz)%2!==0){
            materialBoard = new THREE.MeshStandardMaterial( { color: 0xFFFFFF } );
        }else{
            materialBoard = new THREE.MeshStandardMaterial( { color: 0x000000 } );
        }
        meshBoard = new THREE.Mesh( geometryBoard, materialBoard );

        meshBoard.position.x = -437.5+125*modx;
        meshBoard.position.z = 437.5-125*modz;

        scene.add( meshBoard );

        console.log('hey thar');


    }

   function mouseEvent() {

       Knight.addEventListener('mousedown', onMouseDown, false );


   }

   function onMouseDown() {

       for(i=0;i<8;i++){
           for(j=0;j<8;j++){
               highlightBoard(i,j);
           }
       }


   }

   function highlightBoard(modx,modz) {

       geometryBoard = new THREE.BoxGeometry( 125, 125, 125);


       if((modx+modz)%2!==0){
           materialBoard = new THREE.MeshStandardMaterial( { color: 0x33FFFB} );
       }else{
           materialBoard = new THREE.MeshStandardMaterial( { color: 0x33FFFB } );
       }
       meshBoard = new THREE.Mesh( geometryBoard, materialBoard );

       meshBoard.position.x = -437.5+125*modx;
       meshBoard.position.z = 437.5-125*modz;

       scene.add( meshBoard );



    }
   function animate() {

       requestAnimationFrame( animate );

       mesh.rotation.x += 0.00;
       mesh.rotation.y += 0.00;
       mesh.rotation.z += 0.00;

       renderer.render( scene, camera );

   }
</script>
</html>